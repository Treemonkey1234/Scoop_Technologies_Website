(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4182],{58:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(2115);let a=n.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))})},8207:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(5155),a=s(2115),r=s(3238),o=s(9337);let l=a.forwardRef(function(e,t){let{title:s,titleId:n,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))});var i=s(58);let c=a.forwardRef(function(e,t){let{title:s,titleId:n,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))});function d(){let[e,t]=(0,a.useState)(""),[s,d]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[x,u]=(0,a.useState)(!1),[g,p]=(0,a.useState)([]),[f,b]=(0,a.useState)(!1),v=async()=>{try{let e=Math.random().toString(36).substring(2,8).toUpperCase();t("https://scoopsocials.com/invite/".concat(e))}catch(e){console.error("Failed to generate invite link:",e)}},w=async()=>{e||await v();try{await navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy link:",e)}},j=async()=>{u(!0);try{if("contacts"in navigator&&"ContactsManager"in window){console.log("\uD83D\uDCDE CONTACTS: Native Contacts API available");let e=await navigator.contacts.select(["name","tel"],{multiple:!0});console.log("\uD83D\uDCDE CONTACTS: User selected",e.length,"contacts"),await N(e.map(e=>{var t,s;return{name:(null==(t=e.name)?void 0:t[0])||"Unknown",phone:(null==(s=e.tel)?void 0:s[0])||void 0}})),h(!0)}else console.log("\uD83D\uDCDE CONTACTS: Native API not available, using fallback"),await N([{name:"John Smith",phone:"+1234567890"},{name:"Sarah Johnson",phone:"+1987654321"},{name:"Mike Chen",phone:"+1555123456"},{name:"Lisa Park",phone:"+1444555666"},{name:"Tom Wilson",phone:"+1333444555"}]),h(!0)}catch(e){console.error("\uD83D\uDCDE CONTACTS: Error accessing contacts:",e),alert("Unable to access contacts. Please try the manual invite option.")}finally{u(!1)}},N=async e=>{try{console.log("\uD83D\uDCDE CONTACTS: Processing",e.length,"contacts");let t=await fetch("/api/contacts/match-users",{method:"POST",headers:{"Content-Type":"application/json","X-User-ID":"153"},body:JSON.stringify({contacts:e})}),s=await t.json();if(s.success)console.log("\uD83D\uDCDE CONTACTS: Match results:",s.summary),p(s.results),b(!0);else throw Error(s.error)}catch(e){console.error("\uD83D\uDCDE CONTACTS: Error processing contacts:",e),alert("Failed to process contacts. Please try again.")}},y=async(e,t)=>{try{console.log("\uD83E\uDD1D FRIEND REQUEST: Sending to user",e),alert("Friend request sent to ".concat(t,"!"))}catch(e){console.error("\uD83E\uDD1D FRIEND REQUEST: Error:",e)}},C=async e=>{try{console.log("\uD83D\uDCE7 INVITE: Sending to",e.name),alert("Invite sent to ".concat(e.name,"!"))}catch(e){console.error("\uD83D\uDCE7 INVITE: Error:",e)}};return(0,n.jsx)(r.default,{children:(0,n.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,n.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-xl",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"\uD83C\uDF66 Invite Your Sweet Friends!"}),(0,n.jsx)("p",{className:"text-gray-600 text-lg",children:"Share the sweetness and invite your friends to join our ice cream themed community!"})]}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-purple-50 rounded-2xl p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:"\uD83D\uDD17 Share Your Invite Link"}),(0,n.jsx)("div",{className:"bg-white rounded-lg p-4 border-2 border-dashed border-pink-300",children:(0,n.jsx)("code",{className:"text-sm text-gray-600 break-all",children:e||"Click to generate your unique invite link"})}),(0,n.jsxs)("button",{onClick:w,className:"w-full mt-4 bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-full font-semibold hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[s?(0,n.jsx)(o.A,{className:"w-5 h-5"}):(0,n.jsx)(l,{className:"w-5 h-5"}),s?"Copied!":"Copy Link"]})]}),(0,n.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:"\uD83D\uDCF1 Test Invite from Contacts"}),m?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,n.jsx)(o.A,{className:"w-5 h-5"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Contacts accessed successfully!"})]}),(0,n.jsxs)("button",{onClick:j,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 px-6 rounded-full font-semibold hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[(0,n.jsx)(i.A,{className:"w-5 h-5"}),"Refresh Contacts"]})]}):(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{className:"text-gray-600 text-sm",children:"Import your contacts to see who's already on ScoopSocials and who you can invite!"}),(0,n.jsxs)("button",{onClick:j,disabled:x,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 px-6 rounded-full font-semibold hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50",children:[(0,n.jsx)(i.A,{className:"w-5 h-5"}),x?"Loading Contacts...":"Access Contacts"]}),(0,n.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"We'll only use your contacts to find friends and send invites. No data is stored."})]})]})]}),f&&g.length>0&&(0,n.jsxs)("div",{className:"mt-8",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:"Your Contact Results"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6",children:[(0,n.jsxs)("h4",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center gap-2",children:[(0,n.jsx)(i.A,{className:"w-5 h-5"}),"Friends Already on ScoopSocials (",g.filter(e=>e.canAddFriend).length,")"]}),(0,n.jsxs)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[g.filter(e=>e.canAddFriend).map((e,t)=>{var s,a;return(0,n.jsxs)("div",{className:"bg-white rounded-lg p-4 flex items-center justify-between shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold",children:e.contact.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-gray-900",children:e.contact.name}),(0,n.jsxs)("div",{className:"text-sm text-gray-500",children:["@",null==(s=e.matchedUser)?void 0:s.username]}),(null==(a=e.matchedUser)?void 0:a.trust_score)&&(0,n.jsxs)("div",{className:"text-xs text-green-600",children:["Trust Score: ",e.matchedUser.trust_score]})]})]}),(0,n.jsx)("button",{onClick:()=>y(e.matchedUser.id,e.contact.name),className:"bg-green-500 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-green-600 transition-colors",children:"Add Friend"})]},t)}),0===g.filter(e=>e.canAddFriend).length&&(0,n.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,n.jsx)(i.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,n.jsx)("p",{children:"None of your contacts are on ScoopSocials yet"}),(0,n.jsx)("p",{className:"text-sm",children:"Be the first to invite them!"})]})]})]}),(0,n.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6",children:[(0,n.jsxs)("h4",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center gap-2",children:[(0,n.jsx)(c,{className:"w-5 h-5"}),"Send Invites (",g.filter(e=>e.canInvite).length,")"]}),(0,n.jsxs)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[g.filter(e=>e.canInvite).map((e,t)=>(0,n.jsxs)("div",{className:"bg-white rounded-lg p-4 flex items-center justify-between shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full flex items-center justify-center text-white font-bold",children:e.contact.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-gray-900",children:e.contact.name}),(0,n.jsx)("div",{className:"text-sm text-gray-500",children:e.contact.phone||e.contact.email})]})]}),(0,n.jsx)("button",{onClick:()=>C(e.contact),className:"bg-blue-500 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-600 transition-colors",children:"Send Invite"})]},t)),0===g.filter(e=>e.canInvite).length&&(0,n.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,n.jsx)(c,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,n.jsx)("p",{children:"No contacts available to invite"}),(0,n.jsx)("p",{className:"text-sm",children:"Try refreshing your contacts"})]})]})]})]}),(0,n.jsx)("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4",children:(0,n.jsxs)("div",{className:"flex justify-center gap-8 text-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:g.filter(e=>e.canAddFriend).length}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Friends Found"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:g.filter(e=>e.canInvite).length}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Can Invite"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:g.length}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Total Contacts"})]})]})})]}),(0,n.jsxs)("div",{className:"mt-8 text-center",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Share on Social Media"}),(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsx)("button",{onClick:()=>{let t=e||"https://scoopsocials.com";window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t)),"_blank")},className:"bg-blue-600 text-white p-3 rounded-full hover:bg-blue-700 transition-colors",children:"\uD83D\uDCD8 Facebook"}),(0,n.jsx)("button",{onClick:()=>{let t=e||"https://scoopsocials.com";window.open("https://twitter.com/intent/tweet?text=".concat(encodeURIComponent("Join me on ScoopSocials - the sweetest social network! \uD83C\uDF66"),"&url=").concat(encodeURIComponent(t)),"_blank")},className:"bg-blue-400 text-white p-3 rounded-full hover:bg-blue-500 transition-colors",children:"\uD83D\uDC26 Twitter"}),(0,n.jsx)("button",{onClick:()=>{alert("Instagram sharing coming soon! For now, copy the invite link and share manually.")},className:"bg-pink-500 text-white p-3 rounded-full hover:bg-pink-600 transition-colors",children:"\uD83D\uDCF7 Instagram"}),(0,n.jsx)("button",{onClick:()=>{let t=e||"https://scoopsocials.com";window.open("https://wa.me/?text=".concat(encodeURIComponent("Join me on ScoopSocials - the sweetest social network! \uD83C\uDF66 "+t)),"_blank")},className:"bg-green-600 text-white p-3 rounded-full hover:bg-green-700 transition-colors",children:"\uD83D\uDCAC WhatsApp"})]})]})]})})})}},8813:(e,t,s)=>{Promise.resolve().then(s.bind(s,8207))},9337:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(2115);let a=n.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})}},e=>{e.O(0,[4684,4236,3238,8441,5964,7358],()=>e(e.s=8813)),_N_E=e.O()}]);