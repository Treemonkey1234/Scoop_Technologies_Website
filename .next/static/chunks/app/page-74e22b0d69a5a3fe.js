(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{276:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(2115);let a=n.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))})},1375:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>E});var n=s(5155),a=s(2115),r=s(6874),l=s.n(r),o=s(3238),i=s(5695);let c=a.forwardRef(function(e,t){let{title:s,titleId:n,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});var d=s(2227),u=s(7208),m=s(2513),x=s(276),h=s(3782);let p=a.forwardRef(function(e,t){let{title:s,titleId:n,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},r),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))});var f=s(4307),v=s(4224),g=s(4111),b=s(2236),j=s(1580),w=s(4188);function y(e){let{reviewId:t,initialVotes:s=0,userVote:r=null,onVote:l,className:o=""}=e,[i,c]=(0,a.useState)(r);(0,a.useEffect)(()=>{c((0,v.bj)(parseInt(t),1))},[t]),(0,a.useEffect)(()=>{c((0,v.bj)(parseInt(t),1))},[s]);let d=e=>{null==l||l(e)};return(0,n.jsxs)("div",{className:"flex flex-col items-center space-y-2 py-2 px-3 ".concat(o),children:[(0,n.jsx)("button",{onClick:()=>d("up"),className:"w-8 h-8 flex items-center justify-center rounded text-xl font-bold transition-colors ".concat("up"===i?"bg-gray-200 text-gray-800":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"),children:"▲"}),(0,n.jsx)("div",{className:"text-base font-medium text-gray-700",children:s}),(0,n.jsx)("button",{onClick:()=>d("down"),className:"w-8 h-8 flex items-center justify-center rounded text-xl font-bold transition-colors ".concat("down"===i?"bg-gray-200 text-gray-800":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"),children:"▼"})]})}var N=s(4236);function E(){var e;let t=(0,i.useRouter)(),{authState:s,isLoading:r,user:E,requireAuth:k}=(0,N.A)(),[A,C]=(0,a.useState)(!0),[S,D]=(0,a.useState)(null),[M,L]=(0,a.useState)(null),[O,U]=(0,a.useState)([]),[G,P]=(0,a.useState)([]),[I,B]=(0,a.useState)(!1),[F,H]=(0,a.useState)(!1),T=(0,a.useRef)(!1),[R,W]=(0,a.useState)({isOpen:!1,contentType:"post",contentId:"",contentTitle:""});(0,a.useEffect)(()=>{var e;console.log("\uD83D\uDD0D HOME PAGE DEBUG: currentUser:",E),console.log("\uD83D\uDD0D HOME PAGE DEBUG: authState:",s),console.log("\uD83D\uDD0D HOME PAGE DEBUG: authUser:",M),console.log("\uD83D\uDD0D HOME PAGE DEBUG: currentUser?.username:",null==E?void 0:E.username),console.log("\uD83D\uDD0D HOME PAGE DEBUG: currentUser?.name:",null==E?void 0:E.name),console.log("\uD83D\uDD0D HOME PAGE DEBUG: authUser?.name:",null==M?void 0:M.name),console.log("\uD83D\uDD0D HOME PAGE DEBUG: scoopProfile:",S),(null==E?void 0:E.id)!==(null==(e=s.user)?void 0:e.id)&&(T.current=!1)},[E,s,M,S]);let V=async()=>{try{let e=await fetch("/api/user");if(e.ok){let t=await e.json();L(t.session)}else L(null)}catch(e){console.error("Error fetching user session:",e),L(null)}},Z=(0,a.useCallback)(async()=>{if(T.current||!1===A)return void console.log("\uD83D\uDD0D HOME PAGE DEBUG: Data already loaded or loading complete, skipping");console.log("\uD83D\uDD0D HOME PAGE DEBUG: Loading user data"),T.current=!0,await V(),D((0,g.v1)()),localStorage.removeItem("scoopReviews"),localStorage.removeItem("scoopEvents"),await z(),await _(),C(!1)},[A]),z=async()=>{try{console.log("\uD83D\uDCE5 Loading posts from backend...");let e=await fetch("/api/posts"),t=await e.json();t.success?(console.log("\uD83D\uDCE5 Posts loaded successfully:",t.posts.length,"posts from",t.source),U(t.posts||[])):(console.error("❌ Failed to load posts:",t.error),U([]))}catch(e){console.error("❌ Error loading posts:",e),U([])}},_=async()=>{try{console.log("\uD83D\uDCE5 Loading events from backend...");let e=await fetch("/api/events"),t=await e.json();t.success?(console.log("\uD83D\uDCE5 Events loaded successfully:",t.events.length,"events from",t.source),P(t.events||[])):(console.error("❌ Failed to load events:",t.error),P([]))}catch(e){console.error("❌ Error loading events:",e),P([])}};(0,a.useEffect)(()=>{if(console.log("\uD83D\uDD0D HOME PAGE DEBUG: Auth check triggered",{authLoading:r,isAuthenticated:s.isAuthenticated,hasRedirected:I,user:s.user}),!r&&!I){let e=document.cookie.includes("authToken")||document.cookie.includes("appSession")||document.cookie.includes("user");if(console.log("\uD83D\uDD0D HOME PAGE DEBUG: Cookie check:",{hasAuthCookies:e,cookies:document.cookie}),s.isAuthenticated||e){if(!s.isAuthenticated&&e)return void console.log("\uD83D\uDD0D HOME PAGE DEBUG: Auth cookies found but state not updated, waiting...")}else{console.log("\uD83D\uDD0D HOME PAGE DEBUG: User not authenticated, redirecting to signin"),B(!0),setTimeout(()=>{t.push("/signin?redirect="+encodeURIComponent("/"))},200);return}!T.current&&s.isAuthenticated&&(console.log("\uD83D\uDD0D HOME PAGE DEBUG: User authenticated, loading data"),Z())}},[r,s.isAuthenticated,I,Z,t]);let Y=()=>{var e,t,n,a,r,l,o;let i=(null==S?void 0:S.name)||(null==E?void 0:E.name)||(null==(e=s.user)?void 0:e.name)||"User",c=(null==S?void 0:S.username)||(null==E?void 0:E.username)||(null==(t=s.user)?void 0:t.username)||"user",d=(null==S?void 0:S.trustScore)||(null==E?void 0:E.trustScore)||(null==(n=s.user)?void 0:n.trustScore)||50,u=(null==S?void 0:S.friendsCount)||(null==E?void 0:E.friendsCount)||(null==(a=s.user)?void 0:a.friendsCount)||0,m=(null==S?void 0:S.reviewsCount)||(null==E?void 0:E.reviewsCount)||(null==(r=s.user)?void 0:r.reviewsCount)||0;return console.log("\uD83D\uDD0D HOME PAGE DEBUG: getUserDisplayData",{scoopProfile:null==S?void 0:S.username,currentUser:null==E?void 0:E.username,authStateUser:null==(l=s.user)?void 0:l.username,authUserName:null==M?void 0:M.name,currentUserName:null==E?void 0:E.name,authStateUserName:null==(o=s.user)?void 0:o.name,finalUsername:c}),{name:i,username:c,trustScore:d,friendsCount:u,reviewsCount:m}};if((0,a.useEffect)(()=>{let e=async()=>{document.hidden||(await z(),await _())};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),r||A)return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-blue-50 to-teal-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(w.A,{}),(0,n.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading ScoopSocials..."})]})});if(I)return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-blue-50 to-teal-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(w.A,{}),(0,n.jsx)("p",{className:"mt-4 text-slate-600",children:"Redirecting to sign in..."})]})});if(!s.isAuthenticated)return(0,n.jsx)(o.default,{children:(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(w.A,{}),(0,n.jsx)("div",{className:"text-slate-500 mt-4",children:"Checking authentication..."})]})})});let J=async()=>{H(!0),await z(),await _(),D((0,g.v1)()),setTimeout(()=>{H(!1)},1e3)},q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return e.length<=t?e:e.substring(0,t)+"..."};return(0,n.jsxs)(o.default,{children:[(0,n.jsxs)("div",{className:"space-y-4 p-4",children:[(0,n.jsxs)("div",{className:"card-premium relative overflow-hidden bg-gradient-to-r from-cyan-50 to-teal-50 border-cyan-200",children:[(0,n.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-100 to-transparent rounded-full -mr-16 -mt-16 opacity-50"}),(0,n.jsx)("div",{className:"relative z-10",children:(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-700 to-teal-700 bg-clip-text text-transparent mb-2",children:["Welcome back, ",(null==(e=Y().name)?void 0:e.split(" ")[0])||Y().username||"User","!"]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(b.A,{score:Y().trustScore,size:"lg"}),(0,n.jsxs)("div",{className:"text-sm text-slate-600",children:[(0,n.jsx)("span",{className:"font-medium",children:Y().friendsCount})," friends •",(0,n.jsx)("span",{className:"font-medium ml-1",children:Y().reviewsCount})," reviews"]})]})]}),(0,n.jsx)("button",{onClick:J,disabled:F,className:"p-3 rounded-xl bg-white/80 hover:bg-white transition-all duration-200 shadow-sm hover:shadow-md",children:F?(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-slate-200 border-t-slate-400 rounded-full animate-spin"}):(0,n.jsx)("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Latest Scoops"})}),0===O.length?(0,n.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)(c,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-medium text-slate-800 mb-2",children:"Your community feed is ready!"}),(0,n.jsx)("p",{className:"text-slate-500 mb-6",children:"This is where you'll see posts and reviews from your friends. Here's how it works:"})]}),(0,n.jsxs)("div",{className:"grid gap-4",children:[(0,n.jsxs)("div",{className:"p-4 rounded-xl bg-blue-50 border border-blue-200",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC65"}),(0,n.jsx)("h4",{className:"font-semibold text-slate-800",children:"Posts Between Friends"})]}),(0,n.jsx)("p",{className:"text-sm text-slate-600 ml-11",children:"You can only post reviews about people who are your friends - this ensures authentic, trusted connections"})]}),(0,n.jsxs)("div",{className:"p-4 rounded-xl bg-green-50 border border-green-200",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,n.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF89"}),(0,n.jsx)("h4",{className:"font-semibold text-slate-800",children:"Event Reviews"})]}),(0,n.jsx)("p",{className:"text-sm text-slate-600 ml-11",children:"Share your experiences from events you've attended and see what friends thought about their events"})]}),(0,n.jsxs)("div",{className:"p-4 rounded-xl bg-purple-50 border border-purple-200",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,n.jsx)("span",{className:"text-2xl",children:"⭐"}),(0,n.jsx)("h4",{className:"font-semibold text-slate-800",children:"Trust-Based Community"})]}),(0,n.jsx)("p",{className:"text-sm text-slate-600 ml-11",children:"All posts come from friends, creating a trusted network where reviews and recommendations matter"})]}),(0,n.jsxs)("div",{className:"p-4 rounded-xl bg-orange-50 border border-orange-200",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCF1"}),(0,n.jsx)("h4",{className:"font-semibold text-slate-800",children:"Your Feed Updates"})]}),(0,n.jsx)("p",{className:"text-sm text-slate-600 ml-11",children:"When friends post reviews about each other or events, you'll see their updates here in your feed"})]})]}),(0,n.jsx)("div",{className:"text-center mt-6",children:(0,n.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,n.jsx)(l(),{href:"/create-post",className:"px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"✍️ Create Your First Post"}),(0,n.jsx)(l(),{href:"/friends",className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"\uD83D\uDC65 Find Friends"})]})})]})}):O.map((e,t)=>{let s,a=v.vx.find(t=>t.id===e.reviewerId),r=v.vx.find(t=>t.id===e.reviewedId),o=e.isEventReview?G.find(t=>t.id===e.eventId):null;if(!a||!r)return null;let i=a.id!==r.id;return(0,n.jsxs)("div",{className:"card-premium hover:shadow-xl transition-all duration-300 border-cyan-200/50 overflow-hidden",children:[(0,n.jsxs)("div",{className:"px-4 py-3 border-b border-slate-100",children:[(0,n.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l(),{href:"/user/".concat(a.id),className:"font-medium text-slate-800 hover:text-cyan-600",children:a.name}),(0,n.jsx)("div",{className:"mt-1",children:(0,n.jsx)(b.A,{score:a.trustScore,size:"sm"})})]}),i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-slate-400 mx-2",children:"→"}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l(),{href:"/user/".concat(r.id),className:"font-medium text-slate-800 hover:text-cyan-600",children:r.name}),(0,n.jsx)("div",{className:"mt-1",children:(0,n.jsx)(b.A,{score:r.trustScore,size:"sm"})})]})]})]})}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[(0,n.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,n.jsx)("span",{className:"w-4 h-4 bg-cyan-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-xs text-cyan-600",children:"•"})}),(0,n.jsx)("span",{children:e.category})]}),(0,n.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,n.jsx)(d.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:(e=>{let t=new Date(e),s=Math.ceil(Math.abs(new Date().getTime()-t.getTime())/864e5);return 1===s?"Yesterday":s<7?"".concat(s," days ago"):t.toLocaleDateString()})(e.timestamp)})]}),(0,n.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,n.jsx)(u.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:a.location})]})]})]}),(0,n.jsxs)("div",{className:"flex min-h-full",children:[(0,n.jsx)("div",{className:"w-16 flex items-center justify-center border-r border-slate-100 px-1 self-stretch",children:(0,n.jsx)(y,{reviewId:e.id,initialVotes:e.votes,onVote:(s=e.id,e=>{console.log("Vote ".concat(e," on review ").concat(s))}),className:""})}),(0,n.jsxs)("div",{className:"flex-1 p-4",children:[e.isEventReview&&(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-700",children:[(0,n.jsx)(d.A,{className:"w-4 h-4 mr-1"}),"EVENT REVIEW"]})}),e.isEventReview&&o&&(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,n.jsx)(d.A,{className:"w-5 h-5 text-purple-600"}),(0,n.jsx)("span",{className:"font-medium text-slate-800",children:o.title})]}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[(0,n.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,n.jsx)(u.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:o.location})]}),(0,n.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,n.jsx)(d.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:new Date(o.date).toLocaleDateString()})]}),(0,n.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,n.jsx)(m.A,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:[o.attendeeCount," people"]})]})]})]}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("div",{className:"bg-slate-50 rounded-lg p-4 border-l-4 border-cyan-400",children:(0,n.jsxs)("blockquote",{className:"text-slate-700 leading-relaxed",children:['"',q(e.content,150),'"']})})})]})]}),(0,n.jsx)("div",{className:"px-6 py-3 border-t border-slate-100 bg-slate-50/30",children:(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,n.jsxs)("button",{onClick:()=>{var t;return t=e.id,void(window.location.href="/comments/".concat(t))},className:"flex items-center space-x-1 text-slate-600 hover:text-cyan-600 transition-colors duration-200 px-2 py-2 rounded-lg hover:bg-white/50",children:[(0,n.jsx)(x.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Comment"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-1 text-slate-600 hover:text-cyan-600 transition-colors duration-200 px-2 py-2 rounded-lg hover:bg-white/50",children:[(0,n.jsx)(h.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Share"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-1 text-slate-600 hover:text-cyan-600 transition-colors duration-200 px-2 py-2 rounded-lg hover:bg-white/50",children:[(0,n.jsx)(p,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Save"})]}),(0,n.jsxs)("button",{onClick:()=>{W({isOpen:!0,contentType:"post",contentId:e.id,contentTitle:"Review by ".concat(a.name)})},className:"flex items-center space-x-1 text-slate-500 hover:text-orange-500 transition-colors duration-200 px-2 py-2 rounded-lg hover:bg-white/50",children:[(0,n.jsx)(f.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Flag"})]})]})})]},e.id)})]}),A?(0,n.jsx)("div",{className:"flex justify-center py-8",children:(0,n.jsx)(w.A,{type:"pull-refresh"})}):(0,n.jsxs)("button",{onClick:()=>{C(!0),setTimeout(()=>{C(!1)},1500)},className:"btn-primary w-full group relative overflow-hidden bg-gradient-to-r from-cyan-500 to-teal-600 hover:from-cyan-600 hover:to-teal-700",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-600 to-teal-700 opacity-100 transition-opacity duration-300"}),(0,n.jsx)("span",{className:"relative z-10 font-semibold",children:"Load More Scoops \uD83C\uDF68"})]})]}),(0,n.jsx)(j.A,{isOpen:R.isOpen,onClose:()=>{W({isOpen:!1,contentType:"post",contentId:"",contentTitle:""})},contentType:R.contentType,contentId:R.contentId,contentTitle:R.contentTitle})]})}},1580:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var n=s(5155),a=s(2115),r=s(2119);let l=e=>{let{isOpen:t,onClose:s,contentType:l,contentId:o,contentTitle:i}=e,[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),p=async e=>{e.preventDefault(),c&&(h(!0),await new Promise(e=>setTimeout(e,1e3)),alert("Flag submitted successfully. Our moderation team will review this content."),h(!1),s(),d(""),m(""))};return t?(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-slate-800",children:["Flag ","post"===l?"Post":"event"===l?"Event":"comment"===l?"Comment":"Social Account"]}),(0,n.jsx)("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:(0,n.jsx)(r.A,{className:"w-5 h-5 text-slate-500"})})]}),(0,n.jsxs)("form",{onSubmit:p,className:"p-6 space-y-4",children:[i&&(0,n.jsx)("div",{className:"p-3 bg-slate-50 rounded-lg",children:(0,n.jsxs)("p",{className:"text-sm text-slate-600",children:["Flagging: ",(0,n.jsx)("span",{className:"font-medium",children:i})]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Reason for flagging *"}),(0,n.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:({post:["Misinformation/False Claims","Doxxing/Privacy Violation","Spam/Promotional Content","Harassment/Bullying","Hate Speech/Discrimination","Inappropriate Content","Fake Review/Manipulation","Off-Topic Content","Copyright Violation","Other"],event:["False Location/Venue Information","Scam/Fraudulent Event","Safety Concerns","Inappropriate Content","Spam/Promotional Abuse","Misleading Event Details","Copyright Violation","Other"],social:["Stolen/Fake Account","Fake Followers/Engagement","Impersonation","Inappropriate Content","Spam Account","Other"],comment:["Harassment/Bullying","Hate Speech/Discrimination","Spam/Promotional Content","Inappropriate Content","Off-Topic Comment","Misinformation/False Claims","Personal Attack","Other"]})[l].map(e=>(0,n.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,n.jsx)("input",{type:"radio",name:"flagReason",value:e,checked:c===e,onChange:e=>d(e.target.value),className:"w-4 h-4 text-primary-500 border-slate-300 focus:ring-primary-500"}),(0,n.jsx)("span",{className:"text-sm text-slate-700",children:e})]},e))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Additional details (optional)"}),(0,n.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),placeholder:"Provide any additional context that would help our moderation team...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none",rows:3})]}),(0,n.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:(0,n.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,n.jsx)("strong",{children:"Note:"})," False flags may impact your trust score. Only flag content that violates our community guidelines."]})}),(0,n.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,n.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),(0,n.jsx)("button",{type:"submit",disabled:!c||x,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?"Submitting...":"Submit Flag"})]})]})]})}):null}},2236:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(5155);s(2115);let a=e=>{let{score:t,size:s="md",showLabel:a=!1}=e,r=(e=>e>=90?"excellent":e>=80?"verygood":e>=70?"good":e>=60?"fair":"poor")(t),l=(e=>{switch(e){case"excellent":return"bg-trust-excellent text-white";case"verygood":return"bg-trust-verygood text-white";case"good":return"bg-trust-good text-white";case"fair":return"bg-trust-fair text-slate-800";case"poor":return"bg-trust-poor text-slate-800";default:return"bg-slate-400 text-white"}})(r),o=(e=>{switch(e){case"sm":return"text-xs px-2 py-1";case"lg":return"text-lg px-4 py-2";default:return"text-sm px-3 py-1"}})(s);return(0,n.jsxs)("div",{className:"".concat(l," ").concat(o," rounded-full font-bold inline-flex items-center justify-center min-w-0 whitespace-nowrap shadow-sm"),children:[t,a&&"sm"!==s&&(0,n.jsx)("span",{className:"ml-1 font-medium text-xs",children:(e=>{switch(e){case"excellent":return"Excellent";case"verygood":return"Very Good";case"good":return"Good";case"fair":return"Fair";case"poor":return"Poor";default:return"Unknown"}})(r)})]})}},2513:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(2115);let a=n.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))})},3406:(e,t,s)=>{Promise.resolve().then(s.bind(s,1375))},3782:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(2115);let a=n.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))})},4111:(e,t,s)=>{"use strict";function n(){try{let e=localStorage.getItem("scoopProfile");if(e)return JSON.parse(e)}catch(e){console.error("Error loading Scoop profile:",e)}return null}function a(e){var t;let s=n();if(!s)return!1;let a=(t=e.sub).startsWith("linkedin|")?"LinkedIn":t.startsWith("google-oauth2|")?"Google":t.startsWith("facebook|")?"Facebook":t.startsWith("twitter|")?"Twitter":t.startsWith("instagram|")?"Instagram":t.startsWith("github|")?"GitHub":"Unknown";if(s.connectedAccounts.find(t=>t.sub===e.sub))return console.log("Account already connected:",a),!0;let r={provider:a,providerId:e.sub,sub:e.sub,name:e.name||"",email:e.email||"",picture:e.picture||"",connectedAt:new Date().toISOString()};s.connectedAccounts.push(r),s.trustScore=function(e){if(0===e)return 50;let t=50+10*Math.min(e,5);return e>5&&(t+=2*Math.min(e-5,10)),Math.min(t,95)}(s.connectedAccounts.length);try{localStorage.setItem("scoopProfile",JSON.stringify(s)),localStorage.setItem("scoopUserId",s.id)}catch(e){console.error("Error saving Scoop profile:",e)}return console.log("Added connected account:",a),!0}function r(){let e=n();return e?e.connectedAccounts.map(e=>e.provider):[]}s.d(t,{VB:()=>r,addConnectedAccount:()=>a,v1:()=>n})},4307:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(2115);let a=n.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))})},7208:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(2115);let a=n.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))})}},e=>{e.O(0,[4684,4236,3238,4188,8441,5964,7358],()=>e(e.s=3406)),_N_E=e.O()}]);