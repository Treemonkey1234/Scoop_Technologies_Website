(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4034],{3620:(e,s,a)=>{Promise.resolve().then(a.bind(a,5909))},5909:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(5155),n=a(2115),r=a(3238);function d(){let[e,s]=(0,n.useState)(null),[a,d]=(0,n.useState)(!0),[l,i]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async()=>{try{var e;let a,t,n;d(!0);let r="https://coral-app-tjel2.ondigitalocean.app";try{let e=await fetch("".concat(r,"/api/v1/health"));a={status:e.status,ok:e.ok,data:await e.json()}}catch(e){a={error:e instanceof Error?e.message:"Unknown error"}}try{let e=await fetch("".concat(r,"/test-db"));t={status:e.status,ok:e.ok,data:await e.json()}}catch(e){t={error:e instanceof Error?e.message:"Unknown error"}}try{let e=await fetch("".concat(r,"/admin/users"));n={status:e.status,ok:e.ok,data:await e.json()}}catch(e){n={error:e instanceof Error?e.message:"Unknown error"}}s({backendHealth:a,databaseStatus:t,adminRoutesStatus:n,userCount:(null==t||null==(e=t.data)?void 0:e.userCount)||0})}catch(e){i(e instanceof Error?e.message:"Unknown error")}finally{d(!1)}})()},[]),a)?(0,t.jsx)(r.default,{children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin Debug Dashboard"}),(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"}),(0,t.jsx)("p",{className:"mt-2 text-slate-600",children:"Running diagnostics..."})]})]})}):l?(0,t.jsx)(r.default,{children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin Debug Dashboard"}),(0,t.jsxs)("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:["Error: ",l]})]})}):(0,t.jsx)(r.default,{children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin Debug Dashboard"}),e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Backend Health"}),(0,t.jsxs)("div",{className:"p-3 rounded ".concat(e.backendHealth.ok?"bg-green-100":"bg-red-100"),children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Status:"})," ",e.backendHealth.status]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"OK:"})," ",e.backendHealth.ok?"✅ Yes":"❌ No"]}),e.backendHealth.data&&(0,t.jsxs)("div",{className:"mt-2 text-sm",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Environment:"})," ",e.backendHealth.data.environment]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Version:"})," ",e.backendHealth.data.version]})]})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Database Status"}),(0,t.jsxs)("div",{className:"p-3 rounded ".concat(e.databaseStatus.ok?"bg-green-100":"bg-red-100"),children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Status:"})," ",e.databaseStatus.status]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"OK:"})," ",e.databaseStatus.ok?"✅ Yes":"❌ No"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"User Count:"})," ",e.userCount]}),e.databaseStatus.data&&(0,t.jsx)("div",{className:"mt-2 text-sm",children:(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Message:"})," ",e.databaseStatus.data.message]})})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Admin Routes Status"}),(0,t.jsxs)("div",{className:"p-3 rounded ".concat(e.adminRoutesStatus.ok?"bg-green-100":"bg-red-100"),children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Status:"})," ",e.adminRoutesStatus.status]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"OK:"})," ",e.adminRoutesStatus.ok?"✅ Yes":"❌ No"]}),e.adminRoutesStatus.error&&(0,t.jsx)("div",{className:"mt-2 text-sm",children:(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Error:"})," ",e.adminRoutesStatus.error]})})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-blue-50",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Summary"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"✅ Backend is running and healthy"})}),(0,t.jsx)("p",{children:(0,t.jsxs)("strong",{children:["✅ Database is connected with ",e.userCount," users"]})}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"❌ Admin routes are not accessible (404 errors)"})}),(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"⚠️ Admin interface is using temporary data"})})]}),(0,t.jsxs)("div",{className:"mt-4 p-3 bg-yellow-100 border border-yellow-400 rounded",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Next Steps:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,t.jsx)("li",{children:"Backend admin routes need to be properly deployed"}),(0,t.jsxs)("li",{children:["The ",e.userCount," users exist in the database but cannot be accessed via admin routes"]}),(0,t.jsx)("li",{children:"You can see the real user count in the admin interface once backend routes are fixed"}),(0,t.jsx)("li",{children:"For now, the admin interface shows sample data with a note about the issue"})]})]})]})]})]})})}}},e=>{e.O(0,[4684,4236,3238,8441,5964,7358],()=>e(e.s=3620)),_N_E=e.O()}]);