(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2580],{5403:(e,s,t)=>{Promise.resolve().then(t.bind(t,9271))},9271:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(5155),n=t(2115),r=t(4236),l=t(3238);function c(){let{authState:e,isLoading:s,user:t,checkAuth:c}=(0,r.A)(),[o,i]=(0,n.useState)({});(0,n.useEffect)(()=>{(async()=>{let e={};try{let s=await fetch("/api/user"),t=await s.json();e.auth0Session={success:!0,data:{hasSession:!!t.session,authMethod:t.authMethod,user:t.user?{id:t.user.id,name:t.user.name,username:t.user.username,email:t.user.email}:null}}}catch(s){e.auth0Session={success:!1,error:s instanceof Error?s.message:"Unknown error"}}try{let s=await fetch("/api/auth/status"),t=await s.json();e.authStatus={success:!0,data:t}}catch(s){e.authStatus={success:!1,error:s instanceof Error?s.message:"Unknown error"}}e.localStorage={authToken:localStorage.getItem("authToken"),user:localStorage.getItem("user"),hasAuthToken:!!localStorage.getItem("authToken"),hasUser:!!localStorage.getItem("user")},i(e)})()},[e,s,t]);let h=async()=>{await c()};return(0,a.jsx)(l.default,{children:(0,a.jsxs)("div",{className:"space-y-6 p-4",children:[(0,a.jsxs)("div",{className:"card-premium",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Authentication Test"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"Current State"}),(0,a.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Loading:"})," ",s?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Authenticated:"})," ",e.isAuthenticated?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Auth Method:"})," ",e.authMethod||"None"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"User ID:"})," ",(null==t?void 0:t.id)||"None"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Username:"})," ",(null==t?void 0:t.username)||"None"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Name:"})," ",(null==t?void 0:t.name)||"None"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"Actions"}),(0,a.jsx)("button",{onClick:h,className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Refresh Auth State"})]})]})]}),(0,a.jsxs)("div",{className:"card-soft",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"Test Results"}),(0,a.jsx)("pre",{className:"bg-slate-50 p-4 rounded-lg overflow-auto text-sm",children:JSON.stringify(o,null,2)})]})]})})}}},e=>{e.O(0,[4684,4236,3238,8441,5964,7358],()=>e(e.s=5403)),_N_E=e.O()}]);