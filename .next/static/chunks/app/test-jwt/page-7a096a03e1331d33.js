(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8779],{898:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(5155),o=a(2115);function s(){let[e,t]=(0,o.useState)([]),[a,s]=(0,o.useState)(""),l=e=>{t(t=>[...t,"".concat(new Date().toLocaleTimeString(),": ").concat(e)]),console.log(e)},c=async()=>{let e=localStorage.getItem("authToken");if(!e)return void l("❌ No JWT token available for API call");try{l("\uD83C\uDF10 Testing backend API call with JWT token...");let t=await fetch("https://api.scoopsocials.com/api/v1/users/me",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(l("\uD83D\uDCE5 Response status: ".concat(t.status)),t.ok){let e=await t.json();l("✅ Backend API call successful!"),l("User data: ".concat(JSON.stringify(e,null,2)))}else{let e=await t.text();l("❌ Backend API call failed: ".concat(e))}}catch(e){l("\uD83D\uDCA5 Error testing backend API call: ".concat(e instanceof Error?e.message:String(e)))}},i=async()=>{let e=localStorage.getItem("authToken");if(!e)return void l("❌ No JWT token available for API call");try{l("\uD83C\uDF10 Testing friends API call with JWT token...");let t=await fetch("https://api.scoopsocials.com/api/v1/friends/requests",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(l("\uD83D\uDCE5 Response status: ".concat(t.status)),t.ok){let e=await t.json();l("✅ Friends API call successful!"),l("Friends data: ".concat(JSON.stringify(e,null,2)))}else{let e=await t.text();l("❌ Friends API call failed: ".concat(e))}}catch(e){l("\uD83D\uDCA5 Error testing friends API call: ".concat(e instanceof Error?e.message:String(e)))}};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 py-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"JWT Token Test Page"}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Manual JWT Token Testing"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4",children:"This page allows you to manually test JWT token injection and backend API calls."}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,n.jsx)("button",{onClick:()=>{try{let e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxMDUiLCJhdXRoMFVzZXJJZCI6ImxpbmtlZGlufDBkdjRWUHBab3kiLCJlbWFpbCI6ImdyYW50LmhlbWluZ3dheUBnbWFpbC5jb20iLCJhdXRoTWV0aG9kIjoiYXV0aDAiLCJpYXQiOjE3NTM4MzA4ODEsImV4cCI6MTc1NDQzNTY4MX0.JbCvm_bjjN5deFY350qh5ojKY_0lLPd4H3F-tsrdD5s";localStorage.setItem("authToken",e),s(e),l("✅ Test JWT token injected into localStorage"),l("Token length: ".concat(e.length)),l("Token preview: ".concat(e.substring(0,20),"..."))}catch(e){l("❌ Failed to inject test token: ".concat(e instanceof Error?e.message:String(e)))}},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Inject Test JWT Token"}),(0,n.jsx)("button",{onClick:()=>{let e=localStorage.getItem("authToken");e?(l("✅ JWT token found in localStorage"),l("Token length: ".concat(e.length)),l("Token preview: ".concat(e.substring(0,20),"...")),s(e)):(l("❌ No JWT token found in localStorage"),s(""))},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",children:"Check Current Token"}),(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("authToken"),l("\uD83D\uDDD1️ JWT token cleared from localStorage"),s("")},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Clear Token"}),(0,n.jsx)("button",{onClick:c,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded",children:"Test Backend API Call"}),(0,n.jsx)("button",{onClick:i,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded col-span-2",children:"Test Friends API Call"})]}),a&&(0,n.jsxs)("div",{className:"bg-gray-50 p-4 rounded mb-4",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Current Token:"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 break-all",children:a})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Debug Output"}),(0,n.jsxs)("div",{className:"bg-gray-900 text-green-400 p-4 rounded font-mono text-sm h-96 overflow-y-auto",children:[e.map((e,t)=>(0,n.jsx)("div",{children:e},t)),0===e.length&&(0,n.jsx)("div",{className:"text-gray-500",children:"No output yet. Try clicking the buttons above."})]})]})]})})}},1172:(e,t,a)=>{Promise.resolve().then(a.bind(a,898))}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=1172)),_N_E=e.O()}]);