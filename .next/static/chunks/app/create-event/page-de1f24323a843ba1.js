(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3558],{2099:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(5155),n=s(2115),l=s(5695);s(8689);var o=s(5411),r=s.n(o),i=s(3238),c=s(4236),d=s(4224),u=s(8910),m=s(3735),x=s(2227),h=s(7208),g=s(9337);function b(){let e,t=(0,l.useRouter)(),{authState:s,isLoading:o,user:b,requireAuth:p}=(0,c.A)();(0,n.useEffect)(()=>{if(console.log("\uD83D\uDD0D CREATE EVENT PAGE: Authentication effect triggered"),console.log("\uD83D\uDD0D CREATE EVENT PAGE: Current state:",{authLoading:o,isAuthenticated:s.isAuthenticated,needsOnboarding:s.needsOnboarding,userData:s.user?{id:s.user.id,scoopUserId:s.user.scoopUserId,username:s.user.username,phone:s.user.phone}:null}),o)console.log("\uD83D\uDD0D CREATE EVENT PAGE: Still loading authentication state...");else{if(!s.isAuthenticated){console.log("\uD83D\uDD0D CREATE EVENT PAGE: User not authenticated, redirecting to signin"),window.location.href="/signin";return}console.log("\uD83D\uDD0D CREATE EVENT PAGE: User authenticated, loading data")}},[o,s.isAuthenticated]);let[v,f]=(0,n.useState)({title:"",category:"",description:"",quickDate:"",date:"",startTime:"",endTime:"",venueName:"",address:"",latitude:void 0,longitude:void 0,eventType:"public-all",trustRequirement:"50",maxAttendees:"",invitedFriends:[],selectedDuration:""}),[y,N]=(0,n.useState)(!1),[j,w]=(0,n.useState)(0),[C,D]=(0,n.useState)(0),[k,T]=(0,n.useState)(null),[E,A]=(0,n.useState)("pending"),[S,I]=(0,n.useState)(!1),[P,M]=(0,n.useState)([]),[O,L]=(0,n.useState)([]),[F,U]=(0,n.useState)([]),[R,B]=(0,n.useState)(!1),[q,J]=(0,n.useState)(null),[V,G]=(0,n.useState)(!1),[Y,_]=(0,n.useState)([]),[H,W]=(0,n.useState)([]),[z,K]=(0,n.useState)(!1),[Q,Z]=(0,n.useState)(!1),[X,$]=(0,n.useState)(null),[ee,et]=(0,n.useState)(null),[es,ea]=(0,n.useState)(null),en=(0,n.useRef)(null);(0,n.useEffect)(()=>{if("private"===v.eventType&&b){let e=(0,d.PL)(parseInt(b.id));M(e),U(e.slice(0,5))}},[v.eventType,b]),(0,n.useEffect)(()=>{if(b){let e=localStorage.getItem("recentVenues_".concat(b.id));e?_(JSON.parse(e)):_([{name:"Central Park",address:"Central Park, New York, NY",lastUsed:"2024-01-15"},{name:"Times Square",address:"Times Square, New York, NY",lastUsed:"2024-01-10"},{name:"Brooklyn Bridge Park",address:"Brooklyn Bridge Park, Brooklyn, NY",lastUsed:"2024-01-05"}])}},[b]),(0,n.useEffect)(()=>{(async()=>{let e=localStorage.getItem("userLocation");if(e)try{let t=JSON.parse(e);J(t),console.log("\uD83D\uDDFA️ USER LOCATION: Using stored location for instant load:",t)}catch(e){console.log("\uD83D\uDDFA️ USER LOCATION: Could not parse stored location")}if(navigator.geolocation)try{let e=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!1,timeout:5e3,maximumAge:6e5})}),t={lng:e.coords.longitude,lat:e.coords.latitude};J(t),T(t),localStorage.setItem("userLocation",JSON.stringify(t)),console.log("\uD83D\uDDFA️ USER LOCATION: Fresh location found:",t)}catch(e){console.log("\uD83D\uDDFA️ USER LOCATION: Could not get fresh location:",e instanceof Error?e.message:"Unknown error"),q||(J({lat:39.8283,lng:-98.5795}),console.log("\uD83D\uDDFA️ USER LOCATION: Using default US center location"))}else q||(J({lat:39.8283,lng:-98.5795}),console.log("\uD83D\uDDFA️ USER LOCATION: Geolocation not supported, using default location"))})()},[]),(0,n.useEffect)(()=>((async()=>{if(!R)return;if(X&&X.getContainer())return console.log("\uD83D\uDDFA️ MAP: Map already exists, skipping initialization");let e=setTimeout(()=>{console.log("\uD83D\uDDFA️ MAP: Initialization timeout, showing fallback");let e=document.getElementById("map-loading");e&&(e.innerHTML='\n            <div class="text-center">\n              <p class="text-orange-600 mb-2">\uD83D\uDDFA️ Map loading timed out</p>\n              <p class="text-sm text-slate-600 mb-3">Please use manual address entry instead</p>\n              <button \n                onclick="document.getElementById(\'map-loading\').style.display=\'none\'" \n                class="px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600"\n              >\n                Continue Without Map\n              </button>\n            </div>\n          ')},15e3);try{if(X)try{X.getContainer()&&X.remove()}catch(e){console.log("\uD83D\uDDFA️ MAP CLEANUP: Error removing existing map:",e)}finally{$(null),et(null),ea(null),en.current=null}let t=q?{lng:q.lng,lat:q.lat}:{lat:39.8283,lng:-98.5795},s=localStorage.getItem("userLocation");if(s)try{t=JSON.parse(s),console.log("\uD83D\uDDFA️ INSTANT LOAD: Using stored location for immediate map:",t)}catch(e){console.log("\uD83D\uDDFA️ INSTANT LOAD: Could not parse stored location, using default")}let a=await (0,u.kk)(document.getElementById("event-location-map"),[t.lng,t.lat],{zoom:13,style:"mapbox://styles/mapbox/streets-v12"});navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let t={lng:e.coords.longitude,lat:e.coords.latitude};console.log("\uD83D\uDDFA️ BACKGROUND UPDATE: Fresh location found:",t);let s=a.getCenter();Math.sqrt(Math.pow(s.lng-t.lng,2)+Math.pow(s.lat-t.lat,2))>.01&&(a.flyTo({center:[t.lng,t.lat],zoom:13}),console.log("\uD83D\uDDFA️ BACKGROUND UPDATE: Map re-centered to fresh location")),localStorage.setItem("userLocation",JSON.stringify(t)),J(t),T(t)},e=>{console.log("\uD83D\uDDFA️ BACKGROUND UPDATE: Could not get fresh location (non-blocking):",e.message)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5}):console.log("\uD83D\uDDFA️ BACKGROUND UPDATE: Geolocation not supported"),a.on("load",()=>{clearTimeout(e);let t=document.getElementById("map-loading");if(t&&(t.style.display="none"),k&&(k.lng!==(null==q?void 0:q.lng)||k.lat!==(null==q?void 0:q.lat))){let e=new(r()).Marker({color:"#3b82f6",scale:.8}).setLngLat([k.lng,k.lat]).addTo(a);ea(e),a.addSource("user-location",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[k.lng,k.lat]}}}),a.addLayer({id:"user-location-circle",type:"circle",source:"user-location",paint:{"circle-radius":20,"circle-color":"#3b82f6","circle-opacity":.2,"circle-stroke-width":2,"circle-stroke-color":"#3b82f6","circle-stroke-opacity":.5}})}}),$(a);let n=async e=>{let{lng:t,lat:s}=e.lngLat;console.log("\uD83D\uDDFA️ MAP CLICK: Clicked at",t,s,"Current locationMapMarkerRef:",en.current);let n=document.querySelectorAll(".mapboxgl-marker");if(console.log("\uD83D\uDDFA️ MAP CLEANUP: Found",n.length,"total markers"),n.forEach((e,t)=>{let s=e.querySelector("button");if(s){let a=s.style.backgroundColor;if(console.log("\uD83D\uDDFA️ MAP CLEANUP: Marker ".concat(t," color:"),a),a.includes("rgb(6, 182, 212)")||a.includes("#06b6d4")){console.log("\uD83D\uDDFA️ MAP CLEANUP: Removing cyan location marker");try{e.remove()}catch(e){console.log("\uD83D\uDDFA️ MAP CLEANUP: Error removing marker:",e)}}}}),en.current)try{en.current.remove(),en.current=null,et(null)}catch(e){console.log("\uD83D\uDDFA️ MAP CLEANUP: Error removing ref marker:",e)}console.log("\uD83D\uDDFA️ MAP: Creating new location marker at",t,s);let l=new(r()).Marker({color:"#06b6d4"}).setLngLat([t,s]).addTo(a);en.current=l,et(l),console.log("\uD83D\uDDFA️ MAP: Location marker set in ref and state");try{let e=(0,m.Pz)("GEOCODING","/".concat(t,",").concat(s,".json"),{proximity:"".concat((null==q?void 0:q.lng)||-98.5833,",").concat((null==q?void 0:q.lat)||39.8333),country:"US"}),a=await fetch(e),n=await a.json();if(n.features&&n.features.length>0){let e=n.features[0].place_name;f(a=>{let n={...a,address:e,venueName:e.split(",")[0]||e,latitude:s,longitude:t};return console.log("\uD83D\uDDFA️ MAP CLICK: Setting coordinates in formData:",{latitude:s,longitude:t}),n}),Z(!0),setTimeout(()=>{Z(!1)},1e3)}}catch(e){console.error("Error reverse geocoding:",e),f(e=>{let a={...e,address:"".concat(s.toFixed(4),", ").concat(t.toFixed(4)),venueName:"Location (".concat(s.toFixed(4),", ").concat(t.toFixed(4),")"),latitude:s,longitude:t};return console.log("\uD83D\uDDFA️ MAP CLICK (fallback): Setting coordinates in formData:",{latitude:s,longitude:t}),a})}};a.on("click",n)}catch(s){clearTimeout(e),console.error("Error initializing location map:",s);let t=document.getElementById("map-loading");if(t){let e=s instanceof Error?s.message:String(s),a=e.includes("rate")||e.includes("429")||e.includes("quota"),n=e.includes("fetch")||e.includes("network")||e.includes("blocked");a||n?t.innerHTML='\n              <div class="text-center">\n                <p class="text-orange-600 mb-2">\uD83D\uDDFA️ Map temporarily unavailable</p>\n                <p class="text-sm text-slate-600 mb-3">Please use manual address entry instead</p>\n                <button \n                  onclick="document.getElementById(\'map-loading\').style.display=\'none\'; window.location.reload()" \n                  class="px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600"\n                >\n                  Try Again\n                </button>\n              </div>\n            ':t.innerHTML='\n              <div class="text-center">\n                <p class="text-red-600 mb-2">⚠️ Map failed to load</p>\n                <p class="text-sm text-slate-600">Please try again or use manual address entry</p>\n              </div>\n            '}}})(),()=>{if(X)try{if(X.getContainer&&"function"==typeof X.getContainer){let e=X.getContainer();e&&e.parentNode&&X.remove()}}catch(e){console.log("\uD83D\uDDFA️ MAP CLEANUP: Error during useEffect cleanup:",e)}finally{$(null),et(null)}}),[R,X]);let el=[[{id:"social",label:"\uD83C\uDF89 Social",selected:!1},{id:"food",label:"\uD83C\uDF55 Food & Dining",selected:!1},{id:"entertainment",label:"\uD83C\uDFAD Entertainment",selected:!1},{id:"sports",label:"\uD83C\uDFC3 Sports & Fitness",selected:!1}],[{id:"tech",label:"\uD83D\uDCBB Tech & Innovation",selected:!1},{id:"professional",label:"\uD83D\uDCBC Professional",selected:!1},{id:"arts",label:"\uD83C\uDFA8 Arts & Crafts",selected:!1},{id:"education",label:"\uD83D\uDCDA Education & Learning",selected:!1}],[{id:"wellness",label:"\uD83E\uDDD8 Wellness & Health",selected:!1},{id:"community",label:"\uD83E\uDD1D Community Service",selected:!1},{id:"adventure",label:"\uD83C\uDFD4️ Adventure & Outdoors",selected:!1},{id:"hobby",label:"\uD83C\uDFAF Hobbies & Interests",selected:!1}]],eo=el[j],er=[{id:"30m",label:"30 min",minutes:30},{id:"1h",label:"1 hour",minutes:60},{id:"2h",label:"2 hours",minutes:120},{id:"custom",label:"Custom",minutes:0}],ei=P.map(e=>({id:e.id.toString(),name:e.name,trustScore:e.trustScore,note:e.bio?e.bio.substring(0,30)+"...":"Friend"})),ec=(e,t)=>{if(!e||0===t)return"";let[s,a]=e.split(":").map(Number),n=new Date;return n.setHours(s,a),n.setMinutes(n.getMinutes()+t),"".concat(n.getHours().toString().padStart(2,"0"),":").concat(n.getMinutes().toString().padStart(2,"0"))},ed=async e=>{if(e.preventDefault(),N(!0),"private"===v.eventType&&0===O.length){alert("⚠️ Private events require at least one friend to be selected for invitation."),N(!1);return}v.latitude&&v.longitude||(console.warn("⚠️ Event created without coordinates - will not appear on map"),v.latitude||(v.latitude=39.7392),v.longitude||(v.longitude=-104.9903));try{var s;console.log("\uD83D\uDD0D FORM DATA COORDINATES:",{latitude:v.latitude,longitude:v.longitude,address:v.address,venueName:v.venueName});let e={title:v.title,category:v.category,description:v.description,date:v.date,startTime:v.startTime,endTime:v.endTime,venueName:v.venueName,address:v.address,latitude:v.latitude,longitude:v.longitude,eventType:v.eventType,trustRequirement:"none"===v.trustRequirement?0:parseInt(v.trustRequirement),maxAttendees:parseInt(v.maxAttendees)||50,invitedFriends:"private"===v.eventType?O.map(e=>parseInt(e)):(null==(s=v.invitedFriends)?void 0:s.map(e=>parseInt(e)))||[],price:0,tags:[]};console.log("\uD83D\uDD0D EVENT DATA COORDINATES:",{latitude:e.latitude,longitude:e.longitude});let a=!1;try{console.log("\uD83D\uDD04 Attempting to save event to backend..."),console.log("\uD83D\uDCE4 Event data being sent:",e);let t=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});console.log("\uD83D\uDCE5 Backend response status:",t.status);let s=await t.json();if(console.log("\uD83D\uDCE5 Backend response data:",s),!t.ok){if(console.error("❌ Backend error details:",{status:t.status,error:s.error,message:s.message,debug:s.debug,source:s.source}),s.debug||s.error)alert("⚠️ Server Error (".concat(t.status,"): ").concat(s.message||s.error,"\n\nDebug info: ").concat(JSON.stringify(s.debug||{},null,2),"\n\nYour event has been saved locally and will sync once this issue is resolved."));else throw Error("Backend responded with status: ".concat(t.status));throw Error("Backend error: ".concat(s.message||s.error||t.status))}s.success&&"backend"===s.source?(console.log("✅ Event created successfully on backend:",s.event),a=!0):console.warn("⚠️ Backend not available, using localStorage:",s.message)}catch(t){console.error("❌ Backend API failed:",t),console.warn("⚠️ Using localStorage fallback"),t instanceof Error?t.message.includes("timeout")||t.message.includes("TimeoutError")?alert("⚠️ The server is taking too long to respond. Your event has been saved locally and will sync once the connection is restored."):t.message.includes("524")||t.message.includes("Gateway Timeout")?alert("⚠️ The server is temporarily unavailable. Your event has been saved locally and will sync automatically when the server is back online."):t.message.includes("500")||t.message.includes("Internal Server Error")?alert("⚠️ There was a server error (500). Your event has been saved locally and will be uploaded once the server is fixed. You can still view it in your events list."):t.message.includes("502")||t.message.includes("Bad Gateway")?alert("⚠️ The server is temporarily down for maintenance. Your event has been saved locally and will sync automatically."):t.message.includes("503")||t.message.includes("Service Unavailable")?alert("⚠️ The service is temporarily unavailable. Your event has been saved locally and will sync when service is restored."):t.message.includes("NetworkError")||t.message.includes("Failed to fetch")?alert("⚠️ Network connection issue detected. Your event has been saved locally and will sync when your connection is restored."):alert('⚠️ Unable to connect to the server right now. Your event "'.concat(e.title,'" has been saved locally and you can view it in your events list. It will automatically sync when the connection is restored.')):alert("⚠️ Something went wrong while saving to the server. Your event has been saved locally and will sync later.")}let n=(0,d.BL)(e,null==b?void 0:b.id);console.log("✅ Event saved locally:",n),a?console.log("\uD83C\uDF89 Event saved to both backend and localStorage!"):console.log("\uD83D\uDCE6 Event saved to localStorage (backend will sync later)"),await new Promise(e=>setTimeout(e,1e3)),t.push("/events")}catch(e){console.error("❌ Error creating event:",e),alert("Failed to create event: ".concat(e.message||"Unknown error")),N(!1)}finally{N(!1)}},eu=()=>{if(v.startTime&&v.endTime){let e=new Date("2000-01-01 ".concat(v.startTime)),t=new Date("2000-01-01 ".concat(v.endTime)).getTime()-e.getTime(),s=Math.floor(t/36e5),a=Math.floor(t%36e5/6e4);if(0===s&&a>0)return"".concat(a," minutes");if(s>0&&0===a)return"".concat(s," hour").concat(1!==s?"s":"");if(s>0&&a>0)return"".concat(s," hour").concat(1!==s?"s":""," ").concat(a," minutes")}return""},em=async(e,t)=>{try{let s=await fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,",").concat(e,".json?access_token=pk.eyJ1IjoidHJlZW1vbmtleTQ1NiIsImEiOiJjbWMwc3FodnIwNjJ6MmxwdWtpamFkbjVyIn0._yMY5crJh7ujrwoxkm3EVw")),a=await s.json();if(a.features&&a.features.length>0){let e=a.features[0],t=e.place_name,s=e.text||"Current Location";f(e=>({...e,address:t,venueName:s})),console.log("\uD83D\uDCCD Address found:",t)}}catch(e){console.error("Reverse geocoding error:",e)}},ex=async e=>{if(e.length<3){W([]),K(!1);return}try{let t=await fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(encodeURIComponent(e),".json?access_token=pk.eyJ1IjoidHJlZW1vbmtleTQ1NiIsImEiOiJjbWMwc3FodnIwNjJ6MmxwdWtpamFkbjVyIn0._yMY5crJh7ujrwoxkm3EVw&limit=5&proximity=-74.0060,40.7128&country=US")),s=await t.json();s.features&&(W(s.features),K(!0))}catch(e){console.error("Address search error:",e)}},eh=async(e,t)=>{Z(!0);try{let s=t;if(!s){let t=await fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(encodeURIComponent(e),".json?access_token=pk.eyJ1IjoidHJlZW1vbmtleTQ1NiIsImEiOiJjbWMwc3FodnIwNjJ6MmxwdWtpamFkbjVyIn0._yMY5crJh7ujrwoxkm3EVw&limit=1")),a=await t.json();if(a.features&&a.features.length>0){let[e,t]=a.features[0].center;s={lat:t,lng:e}}}if(s){let t=eg(s.lat,s.lng,40.7128,-74.006);if(t>80){let e="⚠️ This location is ".concat(t.toFixed(0)," miles from NYC. Are you sure this is correct?");if(!confirm(e))return Z(!1),!1}return console.log("✅ Address validated:",e,s),Z(!1),!0}}catch(e){console.error("Address validation error:",e)}return Z(!1),!1},eg=(e,t,s,a)=>{let n=(s-e)*Math.PI/180,l=(a-t)*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*3959};return(0,a.jsx)(i.default,{children:(0,a.jsxs)("div",{className:"p-4 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>t.back(),className:"text-red-600 hover:text-red-700 font-medium",children:"❌ Cancel"}),(0,a.jsx)("h1",{className:"text-xl font-bold text-slate-800",children:"Create Event"}),(0,a.jsx)("button",{onClick:ed,disabled:!v.title||!v.category||!v.description,className:"text-green-600 hover:text-green-700 font-medium disabled:text-slate-400",children:"✅ Create"})]}),(0,a.jsxs)("form",{onSubmit:ed,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card-soft",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"\uD83D\uDCCB EVENT BASICS"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",value:v.title,onChange:e=>f(t=>({...t,title:e.target.value})),placeholder:"Tech Meetup Phoenix - React Best Practices",className:"w-full p-3 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Event Title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-700",children:"Category:"}),(0,a.jsx)("div",{className:"flex space-x-1",children:el.map((e,t)=>(0,a.jsx)("div",{className:"w-2 h-2 rounded-full transition-all duration-200 ".concat(t===j?"bg-cyan-500":"bg-slate-300")},t))})]}),(0,a.jsxs)("div",{className:"relative overflow-hidden",onTouchStart:e=>{D(e.touches[0].clientX)},onTouchEnd:e=>{let t=C-e.changedTouches[0].clientX;Math.abs(t)>50&&(t>0&&j<el.length-1?w(j+1):t<0&&j>0&&w(j-1))},children:[(0,a.jsx)("div",{className:"text-center text-xs text-slate-500 mb-2 md:hidden",children:"← Swipe to see more categories →"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:eo.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>f(t=>({...t,category:e.id})),className:"px-3 py-3 rounded-xl text-sm font-medium transition-all duration-200 ".concat(v.category===e.id?"bg-gradient-to-r from-cyan-500 to-teal-600 text-white shadow-lg":"bg-slate-100 hover:bg-slate-200 text-slate-700"),children:e.label},e.id))}),(0,a.jsxs)("div",{className:"hidden md:flex justify-between items-center mt-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>j>0&&w(j-1),disabled:0===j,className:"px-3 py-1 rounded-lg text-sm text-slate-600 hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"← Previous"}),(0,a.jsxs)("span",{className:"text-xs text-slate-500",children:["Page ",j+1," of ",el.length]}),(0,a.jsx)("button",{type:"button",onClick:()=>j<el.length-1&&w(j+1),disabled:j===el.length-1,className:"px-3 py-1 rounded-lg text-sm text-slate-600 hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next →"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"card-soft",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[(0,a.jsx)(x.A,{className:"w-5 h-5 mr-2 text-cyan-500"}),"\uD83D\uDCC5 DATE & TIME"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-700 mb-3",children:"Quick Select:"}),(0,a.jsx)("div",{className:"flex space-x-2 mb-4",children:[{id:"today",label:"\uD83D\uDCC5 Today"},{id:"tomorrow",label:"\uD83D\uDCC5 Tomorrow"},{id:"nextweek",label:"\uD83D\uDCC5 Next Week"},{id:"custom",label:"\uD83D\uDCC5 Custom"}].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>(e=>{f(t=>({...t,quickDate:e}));let t=new Date,s="";switch(e){case"today":s=t.toISOString().split("T")[0];break;case"tomorrow":let a=new Date(t);a.setDate(a.getDate()+1),s=a.toISOString().split("T")[0];break;case"nextweek":let n=new Date(t);n.setDate(n.getDate()+7),s=n.toISOString().split("T")[0]}s&&f(e=>({...e,date:s}))})(e.id),className:"px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200 ".concat(v.quickDate===e.id?"bg-gradient-to-r from-cyan-500 to-teal-600 text-white shadow-lg":"bg-slate-100 hover:bg-slate-200 text-slate-700"),children:e.label},e.id))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"\uD83D\uDCC5 Date:"}),(0,a.jsx)("input",{type:"date",value:v.date,onChange:e=>f(t=>({...t,date:e.target.value})),className:"w-full p-3 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"\uD83D\uDD70️ Start Time:"}),(0,a.jsx)("input",{type:"time",value:v.startTime,onChange:e=>(e=>{let t=er.find(e=>e.id===v.selectedDuration);f(s=>({...s,startTime:e,endTime:t&&t.minutes>0?ec(e,t.minutes):s.endTime}))})(e.target.value),className:"w-full p-3 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-700 mb-3",children:"Duration:"}),(0,a.jsx)("div",{className:"flex space-x-2 mb-3",children:er.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>(e=>{let t=er.find(t=>t.id===e);t&&f(s=>({...s,selectedDuration:e,endTime:s.startTime&&t.minutes>0?ec(s.startTime,t.minutes):s.endTime}))})(e.id),className:"px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200 ".concat(v.selectedDuration===e.id?"bg-gradient-to-r from-cyan-500 to-teal-600 text-white shadow-lg":"bg-slate-100 hover:bg-slate-200 text-slate-700"),children:e.label},e.id))}),("custom"===v.selectedDuration||!v.selectedDuration)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"\uD83D\uDD70️ End Time:"}),(0,a.jsx)("input",{type:"time",value:v.endTime,onChange:e=>f(t=>({...t,endTime:e.target.value})),className:"w-full p-3 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]})]}),v.date&&v.startTime&&(0,a.jsxs)("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-xl",children:[(0,a.jsx)("span",{className:"font-medium",children:"Timezone:"})," ",(()=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=new Date().getTimezoneOffset(),s=Math.abs(Math.floor(t/60)),a=Math.abs(t%60);return"".concat(e," (GMT").concat(t<=0?"+":"-").concat(s.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"),")")})(),eu()&&(0,a.jsxs)("span",{className:"ml-4",children:[(0,a.jsx)("span",{className:"font-medium",children:"Duration:"})," ",eu()]})]})]})]}),(0,a.jsxs)("div",{className:"card-soft",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[(0,a.jsx)(h.A,{className:"w-5 h-5 mr-2 text-cyan-500"}),"\uD83D\uDCCD LOCATION"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",value:v.venueName,onChange:e=>f(t=>({...t,venueName:e.target.value})),placeholder:"Enter venue name...",className:"w-full p-3 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Venue Name"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",value:v.address,onChange:t=>{var s;return s=t.target.value,void(f(e=>({...e,address:s})),e&&clearTimeout(e),e=setTimeout(()=>{ex(s)},300))},onFocus:()=>{H.length>0&&K(!0)},onBlur:()=>{setTimeout(()=>K(!1),200)},placeholder:"Start typing address...",className:"w-full p-3 rounded-xl border bg-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 ".concat(Q?"border-yellow-300 bg-yellow-50":"border-slate-200"),required:!0}),Q&&(0,a.jsx)("div",{className:"absolute right-3 top-3",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-yellow-600"})}),z&&H.length>0&&(0,a.jsx)("div",{className:"absolute top-full left-0 right-0 z-40 bg-white border border-slate-200 rounded-xl mt-1 shadow-lg max-h-60 overflow-y-auto",children:H.map((e,t)=>{var s;return(0,a.jsxs)("button",{type:"button",onClick:()=>(e=>{let t=e.place_name,s=e.text||e.place_name.split(",")[0],[a,n]=e.center;f(e=>({...e,address:t,venueName:s})),K(!1),W([]),eh(t,{lat:n,lng:a}),console.log("\uD83D\uDCCD Address suggestion selected:",{address:t,venueName:s,lat:n,lng:a})})(e),className:"w-full p-3 text-left hover:bg-cyan-50 border-b border-slate-100 last:border-b-0 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium text-slate-800",children:e.text}),(0,a.jsx)("div",{className:"text-sm text-slate-600",children:e.place_name}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:(null==(s=e.properties)?void 0:s.category)||"Address"})]},t)})}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:Q?"\uD83D\uDD0D Validating address location...":"Address - Type to see suggestions"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{"geolocation"in navigator?(A("pending"),navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:s}=e.coords;T({lat:t,lng:s}),A("granted"),console.log("✅ User location detected:",t,s),em(t,s)},e=>{console.warn("Geolocation error:",e.message),A("denied");let t="Unable to get your location. Please enter address manually.";1===e.code?t="Location access denied. Please allow location access in your browser settings.":2===e.code?t="Location unavailable. Please check your device location settings.":3===e.code&&(t="Location request timed out. Please try again."),alert(t)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})):alert("Geolocation not supported by your browser.")},disabled:"pending"===E,className:"flex-1 py-2 px-3 rounded-xl text-sm transition-colors duration-200 ".concat("pending"===E?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-slate-100 hover:bg-slate-200 text-slate-700"),children:"pending"===E?"\uD83D\uDCCD Getting Location...":"\uD83D\uDCCD Use Current Location"}),(0,a.jsx)("button",{type:"button",onClick:()=>B(!0),className:"flex-1 py-2 px-3 bg-slate-100 hover:bg-slate-200 rounded-xl text-sm transition-colors duration-200",children:"\uD83D\uDDFA️ Search Map"}),(0,a.jsx)("button",{type:"button",onClick:()=>G(!0),className:"flex-1 py-2 px-3 bg-slate-100 hover:bg-slate-200 rounded-xl text-sm transition-colors duration-200",children:"\uD83D\uDCCB Recent Venues"})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"\uD83D\uDCA1 On mobile, make sure location services are enabled in your device settings"})]})]}),(0,a.jsxs)("div",{className:"card-soft",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"✍️ EVENT DESCRIPTION"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-slate-600",children:"Tell people what this event is about..."}),(0,a.jsx)("textarea",{value:v.description,onChange:e=>f(t=>({...t,description:e.target.value})),placeholder:"Join us for an exciting evening of React development discussion! We'll cover best practices, new features, and have open networking time. Perfect for developers of all skill levels.\n\nAgenda:\n• 7:00-7:30 PM: Networking & refreshments\n• 7:30-8:30 PM: React best practices presentation\n• 8:30-9:00 PM: Q&A and more networking",rows:8,className:"w-full p-4 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 resize-none",maxLength:1e3,required:!0}),(0,a.jsx)("div",{className:"flex justify-between items-center text-sm",children:(0,a.jsxs)("span",{className:"text-slate-500",children:[v.description.length,"/1000 characters • Be detailed and informative"]})})]})]}),(0,a.jsxs)("div",{className:"card-soft",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"\uD83D\uDD10 PRIVACY & ACCESS"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-700 mb-3",children:"Event Type:"}),(0,a.jsx)("div",{className:"space-y-3",children:[{id:"public-all",label:"\uD83C\uDF0D Public to All",description:"Anyone can see and join this event"},{id:"public-friends",label:"\uD83D\uDC65 Public to Friends",description:"Only your friends can see this event"},{id:"private",label:"\uD83D\uDD12 Private",description:"Invitation-only event - select friends to invite"}].map(e=>(0,a.jsx)("div",{className:"p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 ".concat(v.eventType===e.id?"border-cyan-500 bg-cyan-50":"border-slate-200 bg-white hover:bg-slate-50"),onClick:()=>f(t=>({...t,eventType:e.id})),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-800",children:e.label}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:e.description})]}),(0,a.jsx)("div",{className:"w-4 h-4 rounded-full border-2 ".concat(v.eventType===e.id?"border-cyan-500 bg-cyan-500":"border-slate-300"),children:v.eventType===e.id&&(0,a.jsx)(g.A,{className:"w-3 h-3 text-white m-0.5"})})]})},e.id))}),"private"===v.eventType&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-amber-800",children:"⚠️ Private Event - Select Friends to Invite"}),(0,a.jsxs)("span",{className:"text-xs text-amber-600",children:[O.length," selected"]})]}),F.length>0?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs text-amber-700 mb-2",children:"Recent Friends:"}),(0,a.jsx)("div",{className:"space-y-2",children:F.map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-3 p-2 bg-white rounded-lg cursor-pointer hover:bg-amber-50",children:[(0,a.jsx)("input",{type:"checkbox",checked:O.includes(e.id.toString()),onChange:t=>{t.target.checked?L(t=>[...t,e.id.toString()]):L(t=>t.filter(t=>t!==e.id.toString()))},className:"w-4 h-4 text-cyan-600 rounded focus:ring-cyan-500"}),(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full"}),(0,a.jsx)("span",{className:"text-sm text-slate-700",children:e.name})]},e.id))}),(0,a.jsx)("button",{type:"button",onClick:()=>I(!0),className:"w-full mt-3 py-2 px-3 bg-amber-100 hover:bg-amber-200 text-amber-800 rounded-lg text-sm font-medium transition-colors",children:"\uD83D\uDC65 View All Friends & Groups"})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("p",{className:"text-sm text-amber-700 mb-2",children:"No friends found"}),(0,a.jsx)("button",{type:"button",onClick:()=>t.push("/friends"),className:"text-sm text-cyan-600 hover:text-cyan-700 underline",children:"Add friends to invite them to events"})]}),0===O.length&&(0,a.jsx)("p",{className:"text-xs text-amber-600 mt-2 font-medium",children:"⚠️ You must select at least one friend for private events"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-700 mb-3",children:"Trust Score Requirement:"}),(0,a.jsx)("div",{className:"flex space-x-2",children:[{id:"50",label:"50+"},{id:"70",label:"70+"},{id:"80",label:"80+"},{id:"90",label:"90+"},{id:"none",label:"No Requirement"}].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>f(t=>({...t,trustRequirement:e.id})),className:"px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200 ".concat(v.trustRequirement===e.id?"bg-gradient-to-r from-cyan-500 to-teal-600 text-white shadow-lg":"bg-slate-100 hover:bg-slate-200 text-slate-700"),children:e.label},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"\uD83D\uDC65 Max Attendees:"}),(0,a.jsx)("input",{type:"number",value:v.maxAttendees,onChange:e=>f(t=>({...t,maxAttendees:e.target.value})),placeholder:"25",min:"1",max:"500",className:"w-full p-3 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"})]})]})]}),S&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-800",children:"\uD83D\uDC65 Select Friends to Invite"}),(0,a.jsx)("button",{onClick:()=>I(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"✕"})]}),(0,a.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:[O.length," friends selected"]})]}),(0,a.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("input",{type:"text",placeholder:"\uD83D\uDD0D Search friends...",className:"w-full p-3 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"})}),(0,a.jsxs)("div",{className:"flex space-x-2 mb-6",children:[(0,a.jsx)("button",{onClick:()=>L(P.map(e=>e.id.toString())),className:"px-4 py-2 bg-cyan-100 hover:bg-cyan-200 text-cyan-800 rounded-lg text-sm font-medium transition-colors",children:"Select All"}),(0,a.jsx)("button",{onClick:()=>L([]),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Clear All"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-700 mb-3",children:"\uD83D\uDCCB Friend Groups"}),(0,a.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:[(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Friend groups coming soon!"}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Create groups to quickly invite multiple friends"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-slate-700 mb-3",children:["\uD83D\uDC65 All Friends (",P.length,")"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[P.map(e=>(0,a.jsxs)("label",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg cursor-pointer hover:bg-slate-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:O.includes(e.id.toString()),onChange:t=>{t.target.checked?L(t=>[...t,e.id.toString()]):L(t=>t.filter(t=>t!==e.id.toString()))},className:"w-4 h-4 text-cyan-600 rounded focus:ring-cyan-500"}),(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-800",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["@",e.username]})]})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-400",children:["⭐ ",e.trustScore]})]},e.id)),0===P.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-slate-500 mb-3",children:"No friends found"}),(0,a.jsx)("button",{onClick:()=>{I(!1),t.push("/friends")},className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Add Friends"})]})]})]})]}),(0,a.jsx)("div",{className:"p-6 border-t border-slate-200 bg-slate-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-slate-600",children:[O.length," friends selected"]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>I(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>I(!1),className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Done"})]})]})})]})}),R&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b border-slate-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-800",children:"\uD83D\uDDFA️ Select Event Location"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Click anywhere on the map to place your event pin"})]}),(0,a.jsx)("button",{onClick:()=>B(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"✕"})]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{id:"event-location-map",className:"w-full h-[60vh]",style:{minHeight:"400px"}}),(0,a.jsx)("div",{id:"map-loading",className:"absolute inset-0 bg-slate-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Loading interactive map..."}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"\uD83D\uDCCD Detecting your location"})]})})]}),(0,a.jsx)("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("span",{className:"text-sm text-slate-600",children:v.address?(0,a.jsxs)("span",{className:"text-green-700",children:["\uD83D\uDCCD Selected: ",v.address]}):(0,a.jsx)("span",{children:"Click on the map to select a location • \uD83D\uDD35 Blue dot = your location"})})}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>B(!1),className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>B(!1),disabled:!v.address,className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(v.address?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-slate-300 text-slate-500 cursor-not-allowed"),children:"Confirm Location"})]})]})})]})}),V&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[70vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-800",children:"\uD83D\uDCCB Recent Venues"}),(0,a.jsx)("button",{onClick:()=>G(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:"✕"})]}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Select from your previously used venues"})]}),(0,a.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:[Y.length>0?(0,a.jsx)("div",{className:"space-y-3",children:Y.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>{f(t=>({...t,address:e.address,venueName:e.name})),G(!1),console.log("\uD83D\uDCCD Recent venue selected:",e)},className:"w-full p-4 bg-slate-50 hover:bg-cyan-50 rounded-lg text-left transition-colors border border-slate-200 hover:border-cyan-300",children:[(0,a.jsx)("div",{className:"font-medium text-slate-800",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-slate-600 mt-1",children:e.address}),(0,a.jsxs)("div",{className:"text-xs text-slate-400 mt-2",children:["Last used: ",e.lastUsed]})]},t))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDCCB"}),(0,a.jsx)("p",{className:"text-slate-500 mb-2",children:"No recent venues"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Create events to build your venue history"})]}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-slate-200",children:(0,a.jsx)("p",{className:"text-xs text-slate-400 text-center",children:"\uD83D\uDCA1 This feature can be removed if not needed"})})]}),(0,a.jsx)("div",{className:"p-6 border-t border-slate-200 bg-slate-50",children:(0,a.jsx)("button",{onClick:()=>G(!1),className:"w-full py-2 px-4 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"Close"})})]})}),(0,a.jsxs)("div",{className:"card-soft",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"\uD83D\uDC65 INVITE FRIENDS"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-slate-600",children:"Select friends to invite to your event:"}),(0,a.jsx)("div",{className:"space-y-3",children:ei.map(e=>{let t=d.vx.find(t=>t.id===parseInt(e.id)),s=v.invitedFriends.includes(e.id);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-xl border transition-all duration-200 cursor-pointer ".concat(s?"border-cyan-200 bg-cyan-50":"border-slate-200 bg-white hover:bg-slate-50"),onClick:()=>{var t;return t=e.id,void f(e=>({...e,invitedFriends:e.invitedFriends.includes(t)?e.invitedFriends.filter(e=>e!==t):[...e.invitedFriends,t]}))},children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[t&&(0,a.jsx)("img",{src:t.avatar,alt:e.name,className:"w-10 h-10 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-slate-800",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:[e.note," • Trust: ",e.trustScore]})]})]}),(0,a.jsx)("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center ".concat(s?"border-cyan-500 bg-cyan-500":"border-slate-300"),children:s&&(0,a.jsx)(g.A,{className:"w-4 h-4 text-white"})})]},e.id)})}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:[v.invitedFriends.length," friends selected • They'll get a notification about your event"]})]})]}),(0,a.jsx)("div",{className:"pb-8",children:(0,a.jsx)("button",{type:"submit",disabled:y||!v.title||!v.category||!v.description,className:"w-full bg-gradient-to-r from-cyan-500 to-teal-600 text-white py-4 rounded-xl font-semibold text-lg hover:from-cyan-600 hover:to-teal-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:y?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Creating Event..."})]}):"✅ Create Event"})})]})]})})}},9093:(e,t,s)=>{Promise.resolve().then(s.bind(s,2099))},9337:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(2115);let n=a.forwardRef(function(e,t){let{title:s,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?a.createElement("title",{id:n},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})}},e=>{e.O(0,[168,240,4684,4236,3238,6303,8441,5964,7358],()=>e(e.s=9093)),_N_E=e.O()}]);